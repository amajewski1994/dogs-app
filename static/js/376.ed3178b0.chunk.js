"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[376],{870:(e,a,s)=>{s.d(a,{A:()=>r});s(43);var t=s(594),i=s(941),n=s(961),l=s(579);const r=e=>{let{submitHandler:a}=e;const[s,r]=(0,n.m)({name:{value:"",isValid:!1},description:{value:"",isValid:!1},price:{value:"",isValid:!1},category:{value:"",isValid:!1},quantity:{value:"",isValid:!1},images:{value:"",isValid:!1}},!1),c=e=>{const a=e.target.id,s=e.target.value;let t=!0;(!e.target.value.replace(/\s/g,"")||e.target.value.length<=0)&&(t=!1),r(a,s,t)};return(0,l.jsxs)("form",{className:"modal-form",children:[(0,l.jsxs)("div",{className:"modal-form-name",children:[(0,l.jsx)("label",{htmlFor:"name",children:"Name"}),(0,l.jsx)("input",{id:"name",onChange:c})]}),(0,l.jsxs)("div",{className:"modal-form-price",children:[(0,l.jsx)("label",{htmlFor:"price",children:"Price"}),(0,l.jsx)("input",{id:"price",type:"number",onChange:c})]}),(0,l.jsxs)("div",{className:"modal-form-category",children:[(0,l.jsx)("label",{htmlFor:"category",children:"Category"}),(0,l.jsx)("input",{id:"category",onChange:c})]}),(0,l.jsxs)("div",{className:"modal-form-quantity",children:[(0,l.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),(0,l.jsx)("input",{id:"quantity",type:"number",onChange:c})]}),(0,l.jsxs)("div",{className:"modal-form-description",children:[(0,l.jsx)("label",{htmlFor:"description",children:"Description"}),(0,l.jsx)("textarea",{id:"description",onChange:c})]}),(0,l.jsxs)("div",{className:"modal-form-images",children:[(0,l.jsx)("label",{htmlFor:"images",children:"Images"}),(0,l.jsx)(i.A,{inputId:"images",onChange:r})]}),(0,l.jsx)("div",{className:"modal-form-button",children:(0,l.jsx)(t.A,{onClick:e=>a(e,s),disabled:!s.isValid,children:"ADD NEW"})})]})}},138:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(43),i=s(778),n=s(594),l=s(677),r=s(870),c=s(663),o=s(475),d=s(579);const u=()=>{const[e,a]=(0,t.useState)([]),[s,u]=(0,t.useState)([]),[m,h]=(0,t.useState)(""),[p,x]=(0,t.useState)(200),[g,j]=(0,t.useState)(""),[v,N]=(0,t.useState)(!1),[f,y]=(0,t.useState)([]),[b,C]=(0,t.useState)(200),[w,k]=(0,t.useState)(!1),[A,S]=(0,t.useState)(!1),[E,F]=(0,t.useState)(!1),{isLoading:I,error:_,sendRequest:V,clearError:P}=(0,c.x)(),[T,D]=(0,t.useState)({width:window.innerWidth,height:window.innerHeight});(0,t.useEffect)((()=>{(async()=>{try{const e=await V("http://localhost:5000/api/store");a(e.data),u(e.data),y(e.availableCategories),C(e.maxPrice),x(e.maxPrice)}catch(e){console.log(e)}})()}),[w]),(0,t.useEffect)((()=>{const e=()=>{D({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const q=e.map(((e,a)=>(0,d.jsxs)("li",{className:"list-right__container product-cart",children:[(0,d.jsx)("div",{className:"product-cart-image",children:(0,d.jsx)("img",{src:i,alt:"dog_blank"})}),(0,d.jsxs)("div",{className:"cart-info product-cart-info",children:[(0,d.jsx)("div",{className:"product-cart-name",children:e.name}),(0,d.jsx)("div",{className:"product-cart-price",children:(0,d.jsxs)("div",{children:[e.price," $"]})})]}),(0,d.jsx)(o.N_,{to:e.name,children:(0,d.jsx)("div",{className:"product-cart-button",children:(0,d.jsx)(n.A,{children:"GO TO ITEM"})})})]},a)));(0,t.useEffect)((()=>{const e=[...s];z(e)}),[m,p,g,v]);const z=e=>{const s=e.filter((e=>e.name.toUpperCase().includes(m.toUpperCase())&&e.price<=parseInt(p)&&e.category.toUpperCase().includes(g.toUpperCase())&&e.maxQuantity>(v?0:-1)));a(s)},L=e=>{const a=e.target.id,s=e.target.value;if("input-name"===a&&h(s),"input-price"===a&&x(s),"category-select"===a&&j(s),"input-availability"===a){const a=e.target.checked;N(a)}},O=()=>{S(!1)},R=()=>{F((e=>!e))};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.A,{show:A,onCancel:O,header:"New Item",children:(0,d.jsx)(r.A,{submitHandler:async(e,a)=>{e.preventDefault();let s={name:a.inputs.name.value,price:parseFloat(a.inputs.price.value),category:a.inputs.category.value,quantity:parseFloat(a.inputs.quantity.value),description:a.inputs.description.value};try{new FormData;let e="http://localhost:5000/api/store";await V(e,"POST",JSON.stringify(s),{"Content-Type":"application/json"}),k((e=>!e)),O()}catch(t){console.log(t)}}})}),(0,d.jsxs)("div",{className:"flex-container list",children:[(0,d.jsxs)("div",{className:"list-left ".concat(E&&"filters-active"),children:[T.width<=1e3&&(0,d.jsx)("div",{className:"list-left-close",children:(0,d.jsx)(n.A,{className:"button-primary button-shadow",onClick:()=>{R()},children:"CLOSE"})}),(0,d.jsx)("h2",{children:"Filters"}),(0,d.jsxs)("div",{className:"products-filters-name",children:[(0,d.jsx)("label",{htmlFor:"input-name",children:"Name"}),(0,d.jsx)("input",{id:"input-name",type:"text",onChange:L,value:m,placeholder:"Search name"})]}),(0,d.jsxs)("div",{className:"products-filters-category",children:[(0,d.jsx)("label",{htmlFor:"category-select",children:"Category"}),(0,d.jsxs)("select",{onChange:L,id:"category-select",className:"".concat(g&&"select-valid"),children:[(0,d.jsx)("option",{value:"",children:"--Choose an option--"}),f.map(((e,a)=>(0,d.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},a)))]})]}),(0,d.jsxs)("div",{className:"products-filters-price",children:[(0,d.jsx)("label",{htmlFor:"input-name",children:"Price"}),(0,d.jsx)("input",{id:"input-price",type:"range",onChange:L,value:p,step:10,min:0,max:b}),(0,d.jsxs)("span",{id:"input-price-value",children:[p,"$"]})]}),(0,d.jsxs)("div",{className:"products-filters-available",children:[(0,d.jsx)("label",{htmlFor:"input-availability",children:"Only available"}),(0,d.jsx)("div",{className:"checkbox-wrapper",children:(0,d.jsx)("input",{id:"input-availability",className:"checkbox",type:"checkBox",onChange:L,value:v,checked:v})})]})]}),(0,d.jsxs)("div",{className:"list-right",children:[(0,d.jsxs)("div",{className:"list-right-button",children:[T.width<=1e3&&(0,d.jsx)(n.A,{className:"button-primary button-shadow",onClick:()=>{R()},children:"FILTERS"}),(0,d.jsx)(n.A,{className:"button-primary button-shadow",onClick:()=>{S(!0)},children:"ADD NEW"})]}),(0,d.jsx)("ul",{children:e&&e.length>0?q:(0,d.jsx)("h2",{children:"No results"})})]})]})]})}},961:(e,a,s)=>{s.d(a,{m:()=>n});var t=s(43);const i=(e,a)=>{switch(a.type){case"INPUT_CHANGE":let s=!0;for(const t in e.inputs)e.inputs[t]&&(s=t===a.inputId?s&&a.isValid:s&&e.inputs[t].isValid);return{...e,inputs:{...e.inputs,[a.inputId]:{value:a.value,isValid:a.isValid}},isValid:s};case"SET_DATA":return{inputs:a.inputs,isValid:a.formIsValid};default:return e}},n=(e,a)=>{const[s,n]=(0,t.useReducer)(i,{inputs:e,isValid:a});return[s,(0,t.useCallback)(((e,a,s)=>{n({type:"INPUT_CHANGE",value:a,isValid:s,inputId:e})}),[])]}},663:(e,a,s)=>{s.d(a,{x:()=>i});var t=s(43);const i=()=>{const[e,a]=(0,t.useState)(!1),[s,i]=(0,t.useState)(),n=(0,t.useRef)([]),l=(0,t.useCallback)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a(!0);const r=new AbortController;n.current.push(r);try{const i=await fetch(e,{method:s,body:t,headers:l,signal:r.signal}),c=await i.json();if(n.current=n.current.filter((e=>e!==r)),!i.ok)throw new Error(c.message);return a(!1),c}catch(c){throw i(c.message),a(!1),c}}),[]);return(0,t.useEffect)((()=>()=>{n.current.forEach((e=>e.abort()))}),[]),{isLoading:e,error:s,sendRequest:l,clearError:()=>{i(null)}}}},594:(e,a,s)=>{s.d(a,{A:()=>i});s(43);var t=s(579);const i=e=>{let{children:a,className:s,onClick:i,size:n,disabled:l}=e;return(0,t.jsx)("div",{className:"button ".concat(s," ").concat(n&&"button-"+n," ").concat(l&&"disabled"),onClick:i,children:a})}},429:(e,a,s)=>{s.d(a,{A:()=>i});s(43);var t=s(579);const i=e=>{let{src:a,alt:s,className:i,size:n,onClick:l}=e;return(0,t.jsx)("div",{className:"image ".concat(i," image-").concat(n),onClick:l||null,children:(0,t.jsx)("img",{src:a,alt:s})})}},941:(e,a,s)=>{s.d(a,{A:()=>c});var t=s(594),i=s(43);const n=s.p+"static/media/dummy_user_image.75a04487ce5e21dc1585.png";var l=s(429),r=s(579);const c=e=>{let{inputId:a,onChange:s,errorText:c}=e;const[o,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)([]),[h,p]=(0,i.useState)(),[x,g]=(0,i.useState)([]),[j,v]=(0,i.useState)(),[N,f]=(0,i.useState)(!1),[y,b]=(0,i.useState)(-1),C=(0,i.useRef)();(0,i.useEffect)((()=>{if(x.length<=0)return s(a,"",!1);s(a,x,!0)}),[x]);const w=x.map(((e,a)=>(0,r.jsxs)("li",{onMouseEnter:()=>b(a),onMouseLeave:()=>b(-1),children:[(0,r.jsx)("span",{className:"".concat(y===parseInt(a)&&"active"),onClick:()=>(e=>{const a=[...x].filter((a=>a!==e));g(a)})(e),children:"x"}),(0,r.jsx)(l.A,{src:e||n,alt:"user-image",size:"medium-large",className:"center"})]},a)));return(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("input",{id:a,ref:C,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:e=>{if(e.target.files&&1===e.target.files.length){const t=e.target.files[0],i=new FileReader;i.onload=()=>{const e=i.result;"images"===a?g((a=>[...a,e])):(v(e),s(a,e,!0))},i.readAsDataURL(t)}}}),(0,r.jsxs)("div",{className:"image-upload",children:[(0,r.jsxs)("div",{className:"image-upload__preview",children:["images"===a?x.length>0?(0,r.jsx)("ul",{className:"images-upload__container",children:w}):(0,r.jsx)(l.A,{src:n,alt:"user-image",size:"medium-large",className:"center"}):(0,r.jsx)(l.A,{src:j||n,alt:"user-image",size:"medium-large",className:"center"}),"images"===a?!x.length>0&&(0,r.jsx)("p",{children:"Please pick an image."}):!j&&(0,r.jsx)("p",{children:"Please pick an image."})]}),(0,r.jsx)(t.A,{type:"button",onClick:()=>{C.current.click()},size:"small",children:"PICK IMAGE"})]}),!N&&(0,r.jsx)("p",{children:c})]})}},677:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(43),i=s(950),n=s(865),l=s(579);const r=e=>i.createPortal((0,l.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook")),c=e=>{const a=(0,l.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[(0,l.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:(0,l.jsx)("h2",{children:e.header})}),(0,l.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children})]});return i.createPortal(a,document.getElementById("modal-hook"))},o=e=>(0,l.jsxs)(t.Fragment,{children:[e.show&&(0,l.jsx)(r,{onClick:e.onCancel}),(0,l.jsx)(n.A,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:(0,l.jsx)(c,{...e})})]})},778:(e,a,s)=>{e.exports=s.p+"static/media/blank_dog.91b301549b8440b33834.png"}}]);
//# sourceMappingURL=376.ed3178b0.chunk.js.map